{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "GithubCorner.svelte",
    "Instructions.svelte"
  ],
  "sourcesContent": [
    "<script>\n  // Tim Holman's github-corner packaged as a Svelte component.\n  // https://github.com/tholman/github-corners\n\n  export let repoUrl = \"https://github.com/tholman/github-corners\";\n</script>\n\n<style>\n  .github-corner:hover .octo-arm {\n    animation: octocat-wave 560ms ease-in-out;\n  }\n  @keyframes octocat-wave {\n    0%,\n    100% {\n      transform: rotate(0);\n    }\n    20%,\n    60% {\n      transform: rotate(-25deg);\n    }\n    40%,\n    80% {\n      transform: rotate(10deg);\n    }\n  }\n  @media (max-width: 500px) {\n    .github-corner:hover .octo-arm {\n      animation: none;\n    }\n    .github-corner .octo-arm {\n      animation: octocat-wave 560ms ease-in-out;\n    }\n  }\n</style>\n\n<a href={repoUrl} class=\"github-corner\" aria-label=\"View source on GitHub\">\n  <svg\n    width=\"80\"\n    height=\"80\"\n    viewBox=\"0 0 250 250\"\n    style=\" fill: #151513; color: #fff; position: absolute; top: 0; border: 0;\n    right: 0; border-top-right-radius: 0.5rem; \"\n    aria-hidden=\"true\">\n    <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\" />\n    <path\n      d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n      120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n      125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\n      fill=\"currentColor\"\n      style=\"transform-origin: 130px 106px;\"\n      class=\"octo-arm\" />\n    <path\n      d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9\n      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\n      fill=\"currentColor\"\n      class=\"octo-body\" />\n  </svg>\n</a>\n",
    "<script lang=\"ts\">/**\n * This component explains how to use the app and provides a way to enter\n * direct (remote) links to stereo panoramas.\n */\nimport GithubCorner from \"./GithubCorner.svelte\";\nimport isObjectUrl from \"../utils/isObjectUrl.js\";\n// API\nexport let visible = true;\nexport let panoUrl = null;\nexport let filename = null;\nexport let fileUploadHandler;\n// Local state\nlet minimized = false;\nlet urlInputValue = \"\";\nconst examples = [\n    {\n        url: \"https://i.imgur.com/PgAHSy8.jpg\",\n        label: \"Red pond (The Witness)\",\n    },\n    {\n        url: \"https://i.imgur.com/xLc3Kj7.jpg\",\n        label: \"Reaching out (The Witness)\",\n    },\n    {\n        url: \"https://i.imgur.com/xlrCeyV.jpg\",\n        label: \"Kaer Morhen Balcony (Witcher 3)\",\n    },\n    {\n        url: \"https://i.imgur.com/hD2QXlF.jpg\",\n        label: \"Mount Kilimanjaro (real life)\",\n    },\n];\n// If panoUrl changes, urlInputValue must be updated to match.\n$: {\n    if (isObjectUrl(panoUrl)) {\n        // The new panoUrl is not a remote URL, so urlInputValue should be empty.\n        urlInputValue = \"\";\n    }\n    else {\n        // The new panoUrl IS a remote URL, so urlInputValue should match it.\n        urlInputValue = panoUrl;\n    }\n}\nconst toggleMinimized = () => (minimized = !minimized);\nconst handleFileClick = () => {\n    const fileInput = document.getElementById(\"file-upload\");\n    fileInput.click();\n};\nconst handleRemoteUrlSubmission = () => fileUploadHandler({\n    newPanoUrl: urlInputValue,\n    filename: \"\",\n    shouldUpdateQuerystring: true,\n});\nconst handleFileUpload = (event) => {\n    const uploadedFile = event.target.files[0];\n    const newFilename = uploadedFile.name;\n    const newPanoUrl = URL.createObjectURL(uploadedFile);\n    fileUploadHandler({\n        newPanoUrl,\n        newFilename,\n    });\n};\n//# sourceMappingURL=Instructions.svelte.js.map</script>\n\n<div style={!visible && `display: none`}>\n  {#if minimized}\n    <div\n      class=\"instructions glow br2 ph3 pv2 mb2 dib bg-near-white fr o-20\"\n      style=\"cursor: pointer;\"\n      on:click={toggleMinimized}\n    >\n      ...\n    </div>\n  {:else}\n    <form\n      on:submit|preventDefault={handleRemoteUrlSubmission}\n      class=\"instructions avenir ma3 pa3 bg-near-white br3 shadow-4\"\n    >\n      <GithubCorner repoUrl=\"https://github.com/bryik/stereo-panorama-viewer\" />\n      <h1 class=\"f4 f3-ns lh-title\">Stereo Panorama Viewer</h1>\n      <p class=\"lh-copy f5 measure\">\n        Drag and drop a\n        <a\n          href=\"https://developers.google.com/vr/discover/360-degree-media#common_formats\"\n        >\n          stacked\n        </a>\n        (over/under) stereo panorama into this window. Alternatively, provide a URL\n        below.\n      </p>\n\n      <details>\n        <summary class=\"f5 lh-copy\">Examples</summary>\n        {#each examples as { url, label }, i}\n          {#if url === panoUrl}\n            <p\n              class=\"f5 lh-copy ml3 b\"\n              style=\"cursor: pointer\"\n              on:click={() => {\n                urlInputValue = url;\n                handleRemoteUrlSubmission();\n              }}\n            >\n              {label}\n            </p>\n          {:else}\n            <p\n              class=\"f5 lh-copy ml3\"\n              style=\"cursor: pointer\"\n              on:click={() => {\n                urlInputValue = url;\n                handleRemoteUrlSubmission();\n              }}\n            >\n              {label}\n            </p>\n          {/if}\n        {/each}\n      </details>\n\n      <div class=\"pa3 black-80\">\n        <div class=\"measure-narrow\">\n          <label for=\"pano-url\" class=\"f6 b db mb2\">URL</label>\n          <input\n            class=\"input-reset ba b--black-20 pa2 mb2 dib w-100\"\n            type=\"url\"\n            id=\"pano-url\"\n            aria-describedby=\"pano-desc\"\n            bind:value={urlInputValue}\n            placeholder=\"https://i.imgur.com/xLc3Kj7.jpg\"\n            required\n          />\n          <small id=\"pano-desc\" class=\"f6 lh-copy black-60 db mb2\">\n            Must be a direct link to a stereo panorama hosted on a CORS-enabled\n            host (e.g. Imgur).\n          </small>\n        </div>\n      </div>\n      <button\n        class=\"f6 link dim br2 ph3 pv2 mb2 dib white bg-near-black\"\n        style=\"cursor: pointer;\"\n        type=\"submit\"\n      >\n        Go\n      </button>\n      <!--\n        This is a hack to reset the <input> when panoUrl is set.\n        Without this, an uploaded file persists even after the user enters a\n        URL; if the same file is uploaded again, nothing happens because the\n        <input> doesn't change.\n\n        Here are the steps to reproduce the bug:\n          1) Comment out the if/else\n          2) Add a single <input> (e.g. from the 'if' case)\n          3) Run the app\n          4) Click the 'Upload' button and upload a panorama\n          5) Click any example\n          6) Click the 'Upload' button and upload the same panorama from (4)\n\n        What should happen: the uploaded panorama should be displayed\n\n        What actually happens: the panorama does not change\n      -->\n      {#if !isObjectUrl(panoUrl)}\n        <input\n          id=\"file-upload\"\n          type=\"file\"\n          accept=\"image/*\"\n          on:change={handleFileUpload}\n          style=\"display:none\"\n          value=\"\"\n        />\n      {:else}\n        <input\n          id=\"file-upload\"\n          type=\"file\"\n          accept=\"image/*\"\n          on:change={handleFileUpload}\n          style=\"display:none\"\n          value=\"\"\n        />\n      {/if}\n      <button\n        id=\"upload-button\"\n        class=\"f6 link dim br2 ph3 pv2 mb2 dib white bg-near-black\"\n        style=\"cursor: pointer;\"\n        type=\"button\"\n        on:click={handleFileClick}\n      >\n        {filename ? filename : \"Upload\"}\n      </button>\n\n      <button\n        id=\"close-button\"\n        type=\"button\"\n        class=\"f6 link dim br2 ph3 pv2 mb2 dib white bg-red fr\"\n        style=\"cursor: pointer;\"\n        on:click={toggleMinimized}\n      >\n        Close\n      </button>\n    </form>\n  {/if}\n</div>\n\n<style>\n  .instructions {\n    position: absolute;\n    z-index: 10;\n    top: 1rem;\n  }\n\n  button {\n    border: none;\n  }\n\n  summary {\n    cursor: pointer;\n  }\n\n  @media screen and (min-width: 30em) {\n    .instructions {\n      left: 1rem;\n    }\n  }\n\n</style>\n"
  ],
  "names": [],
  "mappings": "AAQE,4BAAc,MAAM,CAAC,SAAS,cAAC,CAAC,AAC9B,SAAS,CAAE,0BAAY,CAAC,KAAK,CAAC,WAAW,AAC3C,CAAC,AACD,WAAW,0BAAa,CAAC,AACvB,EAAE,CACF,IAAI,AAAC,CAAC,AACJ,SAAS,CAAE,OAAO,CAAC,CAAC,AACtB,CAAC,AACD,GAAG,CACH,GAAG,AAAC,CAAC,AACH,SAAS,CAAE,OAAO,MAAM,CAAC,AAC3B,CAAC,AACD,GAAG,CACH,GAAG,AAAC,CAAC,AACH,SAAS,CAAE,OAAO,KAAK,CAAC,AAC1B,CAAC,AACH,CAAC,AACD,MAAM,AAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AACzB,4BAAc,MAAM,CAAC,SAAS,cAAC,CAAC,AAC9B,SAAS,CAAE,IAAI,AACjB,CAAC,AACD,4BAAc,CAAC,SAAS,cAAC,CAAC,AACxB,SAAS,CAAE,0BAAY,CAAC,KAAK,CAAC,WAAW,AAC3C,CAAC,AACH,CAAC;AC8KD,aAAa,eAAC,CAAC,AACb,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,EAAE,CACX,GAAG,CAAE,IAAI,AACX,CAAC,AAED,MAAM,eAAC,CAAC,AACN,MAAM,CAAE,IAAI,AACd,CAAC,AAED,OAAO,eAAC,CAAC,AACP,MAAM,CAAE,OAAO,AACjB,CAAC,AAED,OAAO,MAAM,CAAC,GAAG,CAAC,YAAY,IAAI,CAAC,AAAC,CAAC,AACnC,aAAa,eAAC,CAAC,AACb,IAAI,CAAE,IAAI,AACZ,CAAC,AACH,CAAC"
}